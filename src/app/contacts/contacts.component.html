<div class="pbl-container">
  <div class="contacts-container" [@slideInOut]>

    <div class="form">
      <div class="title">ПИШЕТЕ НИ</div>
      <form #form="ngForm" (ngSubmit)="onSubmit(form, $event)">
        <mat-form-field appearance="fill">
          <mat-label>Име</mat-label>
          <input #name="ngModel" matInput placeholder="John Doe" name="name" [(ngModel)]="formData.name" required>
          <mat-icon matSuffix>badge</mat-icon>
          @if (name.errors?.['required']) {
            <mat-error>Името e задължителено</mat-error>
          }
        </mat-form-field>

        <mat-form-field appearance="fill">
          <mat-label>Имейл</mat-label>
          <input #email="ngModel" matInput placeholder="example.com" name="email" [(ngModel)]="formData.email" required email>
          <mat-icon matSuffix>mail</mat-icon>
          @if (email.errors?.['required']) {
            <mat-error>Имейла e задължителен</mat-error>
          }
          @if (email.errors?.['email']) {
            <mat-error>Имейла e невалиден</mat-error>
          }
        </mat-form-field>


        <mat-form-field appearance="fill">
          <mat-label>Телефон</mat-label>
          <input #phone="ngModel" matInput placeholder="0xxx xxx xxx xxx" name="phone" [(ngModel)]="formData.phone" required
            pattern="[0-9]{10}">
          <mat-icon matSuffix>phone</mat-icon>
          @if (phone.errors?.['required']) {
            <mat-error>Името e задължителено</mat-error>
          }
          @if (phone.errors?.['pattern']) {
            <mat-error>Телефона e невалиден</mat-error>
          }
        </mat-form-field>

        <mat-form-field>
          <mat-label>Съобщение</mat-label>
          <textarea #msg="ngModel" matInput name="msg" [(ngModel)]="formData.msg" required rows="6"></textarea>
          <mat-icon matSuffix>messages</mat-icon>

          @if (msg.errors?.['required']) {
            <mat-error>Съобщение e задължителено</mat-error>
          }
        </mat-form-field>

        <button type="submit" [disabled]="loading" mat-raised-button>Изпрати</button>
      </form>


    </div>

    <div class="contact-info">

      <div class="title">Свържете се с нас</div>
      <div class="address">
        <div class="text-with-icon">
          <mat-icon>location_on</mat-icon>
          <p>гр. Бургас</p>
        </div>
        <p>ул. Индустриална 3</p>
      </div>


      <a class="text-with-icon" href="mailto: Toshkina@abv.com">
        <mat-icon>mail</mat-icon>
        <p><a href="email:ttavtoserviz@gmail.com">ttavtoserviz&#64;gmail.com</a></p>
      </a>

      <div class="address">
        <div class="text-with-icon">
          <mat-icon>phone</mat-icon>
          <p><a href="tel:{{BUSSINES_PHONE_NUMBER}}">{{BUSSINES_PHONE_NUMBER}}</a></p>
        </div>
      </div>

      <div>
        <app-jsmap></app-jsmap>
      </div>
    </div>

  </div>
  
</div>
